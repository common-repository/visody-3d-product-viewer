!function(e){"use strict";function l(){e(".vsd-model-viewer model-viewer").bind("progress",function(l){e(this).find(".vsd-model-viewer-loader-progress").css("width",parseInt(100*l.detail.totalProgress)+"%")}),e(".vsd-model-viewer model-viewer").bind("ar-status",function(l){if("failed"===l.detail.status){var t=e(l.target).find(".vsd-ar-failed");t.removeClass("hide"),t.bind("transitionend",e=>{setTimeout(function(){t.addClass("hide")},1e3)}),e(".vsd-model-viewer-ar-desktop").attr("disabled","disabled"),e(".vsd-model-viewer-ar-button").attr("disabled","disabled")}else e(".vsd-model-viewer-ar-button").removeClass("loading")}),e(".vsd-model-viewer model-viewer").bind("load",function(l){e(this).find(".vsd-model-viewer-loader").hide(),e(this).parents(".vsd-model-viewer").addClass("loaded");var t=e(this).parents(".vsd-model-viewer").attr("id");e('.vsd-model-viewer-control-buttons[data-viewer-id="'+t+'"]').addClass("loaded"),!e(this).parents(".vsd-model-viewer").hasClass("vsd-model-viewer-loop")&&e(this).parents(".vsd-model-viewer").hasClass("vsd-model-viewer-inline")&&e(visody_gallery_trigger).length&&e(visody_gallery_trigger).hide(),e(".vsd-model-viewer-ar-button").removeClass("loading")})}function t(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||e(visody_gallery+" .vsd-model-viewer").removeClass("fullscreen")}e(document).ready(function(){if(l(),e(visody_gallery+" .vsd-model-viewer-overlay").length&&(e(visody_gallery_slide).length>1?n(visody_gallery_active_slide,function(){var l=e(visody_gallery_active_slide);e(visody_gallery+" .vsd-model-viewer").width(l.width()),e(visody_gallery+" .vsd-model-viewer").height(l.height()),e(visody_gallery+" .vsd-model-viewer-overlay").addClass("loaded")}):e(visody_gallery_slide).length&&n(visody_gallery_slide,function(){var l=e(visody_gallery_slide);e(visody_gallery+" .vsd-model-viewer").width(l.width()),e(visody_gallery+" .vsd-model-viewer").height(l.height()),e(visody_gallery+" .vsd-model-viewer-overlay").addClass("loaded")}),e(window).on("resize",function(){if(!(document.fullScreenElement&&null!==document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen)){if(e(visody_gallery_slide).length>1)var l=e(visody_gallery_active_slide);else var l=e(visody_gallery_slide);e(visody_gallery+" .vsd-model-viewer").width(l.width()),e(visody_gallery+" .vsd-model-viewer").height(l.height())}})),e(visody_gallery).length){var t="";e(".vsd-model-viewer-control-buttons.control-buttons-gallery.hidden").length&&(t=e(".vsd-model-viewer-control-buttons.control-buttons-gallery.hidden").get(0).outerHTML,e(".vsd-model-viewer-control-buttons.control-buttons-gallery.hidden").remove()),e(visody_gallery_slide).length>1?n(visody_gallery_active_slide,function(){e(visody_gallery).append(t),e(".vsd-model-viewer-control-buttons.control-buttons-gallery").removeClass("hidden")}):n(visody_gallery_slide,function(){e(visody_gallery).append(t),e(".vsd-model-viewer-control-buttons.control-buttons-gallery").removeClass("hidden")})}e(visody_gallery+" .vsd-model-viewer-last-slide").length&&e(visody_gallery_slide).length>1&&n(visody_gallery_slide,function(){var t=e(visody_gallery+" .vsd-model-viewer-last-slide").get(0).outerHTML;e(visody_gallery+" .vsd-model-viewer-last-slide").remove(),e(visody_gallery_active_slide).removeClass("vsd-model-viewer__image"),e(visody_gallery_slide+":last-child").addClass("vsd-model-viewer__image"),e(visody_gallery_slide+":last-child").append(t),l()}),e(document).on("click",".vsd-model-viewer-ar-button",function(){e(this).parents(".vsd-model-viewer-control-buttons").length?e(this).parents(".vsd-model-viewer-control-buttons").hasClass("loaded")||e(this).addClass("loading"):e(this).parents(".vsd-model-viewer").hasClass("loaded")||e(this).addClass("loading")}),e(document).on("click",visody_gallery+" .vsd-model-viewer-3d-button",function(l){l.preventDefault(),e(visody_gallery+" .vsd-model-viewer").addClass("active"),e(visody_gallery_trigger).length&&e(visody_gallery_trigger).hide()}),e(document).on("click",visody_gallery+" .vsd-model-viewer .vsd-model-viewer-fs-button",function(l){l.preventDefault(),d(e(".vsd-model-viewer").get(0))}),e(document).on("click",visody_gallery+" .vsd-model-viewer.fullscreen .vsd-model-viewer-close-button",function(l){l.preventDefault(),document.activeElement.blur(),d(e(".vsd-model-viewer").get(0))}),e(document).on("click",visody_gallery+" .vsd-model-viewer-close-button",function(l){l.preventDefault(),!(document.fullScreenElement&&null!==document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen)&&(e(visody_gallery+" .vsd-model-viewer").removeClass("active"),e(visody_gallery_trigger).length&&e(visody_gallery_trigger).show())}),e(document).on("click",".vsd-model-viewer .vsd-model-viewer-cam-button",function(l){l.preventDefault();var t=e(this).data("title")||"capture",n=e(this).closest(".vsd-model-viewer").find("model-viewer").get(0).toDataURL(),d=document.createElement("a");d.style.display="none",document.body.appendChild(d),d.href=n,d.download=t+".png",d.click(),window.setTimeout(()=>{document.body.removeChild(d)},100)}),e(document).on("click",".vsd-model-viewer-control-buttons.control-buttons-gallery .vsd-model-viewer-3d-button",function(l){l.preventDefault(),e(visody_gallery+" .vsd-model-viewer").addClass("active"),e(visody_gallery_trigger).length&&e(visody_gallery_trigger).hide()}),e(document).on("click",".vsd-model-viewer-control-buttons.control-buttons-gallery .vsd-model-viewer-ar-button",function(l){l.preventDefault(),e(visody_gallery+" .vsd-model-viewer").addClass("active"),e(visody_gallery+" .vsd-model-viewer .vsd-model-viewer-ar-button").trigger("click"),e(visody_gallery+" .vsd-model-viewer").removeClass("active")}),e(document).on("click touchstart",visody_gallery_control_thumbs_item,function(l){l.preventDefault();var t=e(visody_gallery_active_slide);e(visody_gallery+" .vsd-model-viewer-overlay").width(t.width()),e(visody_gallery+" .vsd-model-viewer-overlay").height(t.height()),e(visody_gallery_trigger).length&&(e(visody_gallery_active_slide+" .vsd-model-viewer-inline").length?e(visody_gallery_trigger).hide():e(visody_gallery_trigger).show())}),e(document).keyup(function(l){var t=document.fullScreenElement&&null!==document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen;"Escape"!==l.key||t||e(visody_gallery+" .vsd-model-viewer").removeClass("active")}),e(document).on("qv_loader_stop",function(){e(document).find("#yith-quick-view-content .vsd-model-viewer").length&&l()});var o="";e(".woo-variation-product-gallery").length&&n(".woo-variation-product-gallery .vsd-model-viewer-inline",function(){o=e(".woo-variation-product-gallery .vsd-model-viewer-inline").get(0).outerHTML}),e(document).on("show_variation",".variations_form",function(t,n){e(".wvg-gallery-image").length&&(e(".wvg-gallery-image").append(o),l())}),e(document).on("reset_data",".variations_form",function(t){e(".wvg-gallery-image").length&&setTimeout(function(){e(".wvg-gallery-image").append(o),l()},100)})}),document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t);var n=function(e,l){jQuery(e).length?setTimeout(function(){l()},visody_check_interval):setTimeout(function(){n(e,l)},visody_check_interval)};function d(l){return l||(l=document.body),document.fullScreenElement&&null!==document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen?(e(visody_gallery+" .vsd-model-viewer").removeClass("fullscreen"),function e(){var l=document,t=l.cancelFullScreen||l.webkitCancelFullScreen||l.mozCancelFullScreen||l.exitFullscreen||l.webkitExitFullscreen;if(t)t.call(l);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}}()):(e(visody_gallery+" .vsd-model-viewer").addClass("fullscreen"),function e(l){var t=l.requestFullScreen||l.webkitRequestFullScreen||l.mozRequestFullScreen||l.msRequestFullscreen;if(t)t.call(l);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}return!1}(l)),!1}}(jQuery);