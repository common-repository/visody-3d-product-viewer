!function(e){var t={setting_visody_model:null,setting_visody_model_id:null};e(document).on("click",".vsd-file-upload-button",function d(s){var i=e(this),l=i.attr("rel"),n=i.closest(".vsd-file-upload");if(t.setting_visody_model=n,t.setting_visody_model_id=l,s.preventDefault(),n.hasClass("remove"))e(".vsd-file-upload-field",t.setting_visody_model).val("").trigger("change"),t.setting_visody_model.val("").trigger("change"),t.setting_visody_model.find("img").eq(0).attr("src",""),t.setting_visody_model.find(".action-name").text("Set "+t.setting_visody_model.find("label").text()),t.setting_visody_model.find(".details-title").text(""),t.setting_visody_model.find(".details-size").text(""),t.setting_visody_model.removeClass("remove");else{if(t.setting_visody_model_frame){t.setting_visody_model_frame.uploader.uploader.param("post_id",t.setting_visody_model_id),t.setting_visody_model_frame.open();return}t.setting_visody_model_frame=wp.media.frames.variable_image=wp.media({title:"Choose "+t.setting_visody_model.find("label").text(),button:{text:"Set "+t.setting_visody_model.find("label").text()}}),t.setting_visody_model_frame.on("select",function(){var d=t.setting_visody_model_frame.state().get("selection").first().toJSON(),s=d.sizes&&d.sizes.thumbnail.url?d.sizes.thumbnail.url:d.icon;if(!d.filename.includes(".gltf")&&!d.filename.includes(".glb")){t.setting_visody_model.find(".error").length||t.setting_visody_model.append('<p class="error">Please select GLB or glTF file.</p>');return}e(".vsd-file-upload-field",t.setting_visody_model).val(d.id).trigger("change"),t.setting_visody_model.find("img").eq(0).attr("src",s),t.setting_visody_model.find(".action-name").text("Remove "+t.setting_visody_model.find("label").text()),t.setting_visody_model.find(".details-title").text(d.filename),t.setting_visody_model.find(".details-size").text(d.filesizeHumanReadable),t.setting_visody_model.find(".error").length&&t.setting_visody_model.find(".error").remove(),t.setting_visody_model.addClass("remove")}),t.setting_visody_model_frame.open()}})}(jQuery);